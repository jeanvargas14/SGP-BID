<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
   	xmlns:ui="http://java.sun.com/jsf/facelets"
   	xmlns:f="http://java.sun.com/jsf/core"
   	xmlns:h="http://java.sun.com/jsf/html"
   	xmlns:p="http://primefaces.org/ui">
   
	<ui:composition template="/templates/template.xhtml">   
  			<ui:define name="titulo"><p:outputLabel value="#{i18n['label.titulo.seguranca']}" /></ui:define>
  			<ui:define name="subtitulo"><p:outputLabel value="#{i18n['label.titulo.seguranca']}" /></ui:define>
  			<ui:define name="conteudo">
  				<h1>#{i18n['label.titulo.novo.usuario']}</h1>  				
  				<h:form>
  					<p:growl id="messages" life="2000" />
  					
  					<h:panelGrid columns="2">
  						<p:outputLabel value="#{i18n['label.field.nome']}" />
  						<p:inputText value="#{usuarioMB.usuario.cdUsuario}" size="100" required="true"/>
  						
  						<p:outputLabel value="#{i18n['label.field.senha']}" />  						
  						<p:password value="#{usuarioMB.usuario.senha}" required="true"/>
  						
  						<p:selectManyCheckbox id="grid" value="#{usuarioMB.nomesDosGrupos}" layout="grid" columns="3">
					        <f:selectItems value="#{usuarioMB.grupos}" var="g" itemLabel="#{g.cdGrupo}" itemValue="#{g.cdGrupo}" />
					    </p:selectManyCheckbox>  						
  					</h:panelGrid>
  					
					<h:commandButton value="#{i18n['botao.salvar']}" action="#{usuarioMB.adiciona}" />
  				</h:form>
  					
				<hr />
				<p:dataTable value="#{usuarioMB.usuarios}" var="u">
				    <p:column headerText="#{i18n['label.field.nome.usuario']}">
				        <h:outputText value="#{u.cdUsuario}" />
				    </p:column>
				 
				    <p:column headerText="#{i18n['label.field.grupos']}">
				        <h:outputText value="#{u.grupos}" />
				    </p:column>				 
				</p:dataTable>	
  			</ui:define>
	</ui:composition>
</html>