<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
   	xmlns:ui="http://java.sun.com/jsf/facelets"
   	xmlns:f="http://java.sun.com/jsf/core"
   	xmlns:h="http://java.sun.com/jsf/html"
   	xmlns:p="http://primefaces.org/ui">
   
	<ui:composition template="/templates/template.xhtml">   
  			<ui:define name="titulo"><p:outputLabel value="#{i18n['label.titulo.seguranca']}" /></ui:define>
  			<ui:define name="subtitulo"><p:outputLabel value="#{i18n['label.titulo.seguranca']}" /></ui:define>
  			<ui:define name="conteudo">
  				<h1>#{i18n['label.titulo.novo.usuario']}</h1>  				
  				<h:form>
  					<p:growl id="messages" life="2000" />
  					
  					<h:panelGrid columns="2">
  						<p:outputLabel value="#{i18n['label.field.nome']}" />
  						<p:inputText value="#{loginMB.usuario.cdUsuario}" size="100" required="true"/>
  						
  						<p:outputLabel value="#{i18n['label.field.senha']}" />
  						<h:inputSecret value="#{loginMB.usuario.senha}" size="100" required="true"/>
  						
  						<h:selectManyCheckbox value="#{loginMB.nomesDosGrupos}" required="true">
  							<f:selectItems value="#{loginMB.grupos}" var="g" 
  								itemLabel="#{g.cdGrupo}" itemValue="#{g.cdGrupo}" />  						
  						</h:selectManyCheckbox>
  						
  					</h:panelGrid>
  					
					<h:commandButton value="#{i18n['botao.salvar']}" action="#{loginMB.adiciona}" />
  				</h:form>
  					
				<hr />
				
				<h:dataTable value="#{loginMB.usuarios}" var="u" border="1">
					<h:column>
						<f:facet name="header">#{i18n['label.field.nome.usuario']}</f:facet>
						<h:outputText value="#{u.cdUsuario}" />
					</h:column>
					
					<h:column>
						<f:facet name="header">#{i18n['label.field.grupos']}</f:facet>
						<h:outputText value="#{u.grupos}" />
					</h:column>
				</h:dataTable>  					
  			</ui:define>   			
	</ui:composition>
</html>